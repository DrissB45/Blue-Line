{% extends 'base.html.twig' %}
{% block stylesheets %}
	{{ parent() }}
	{{ encore_entry_link_tags('profile') }}
{% endblock %}
{% set title = 'Profil' %}

{% block title %}
	Profil
{% endblock %}

{% block body %}
	<p class="titleProfile text-center fs-1 fw-bold mt-5">Profil</p>
	<div class="profilePage m-0 col-lg-6 mx-auto">
		<div class="profile card m-3 mb-5 mt-5 " style="max-width: 100%;">
			<div class="row">
				<div class="col-4 mx-auto">
					{% if app.user.profileImageName %}
						<img src="{{ asset('uploads/userImages/' ~ app.user.profileImageName) }}" class="profileImg img-fluid rounded m-3" alt="{{ app.user.lastName }} {{ app.user.firstName }}"/>
					{% else %}
						<img src="{{ asset('build/images/profil.png') }}" class="profileImg img-fluid rounded m-3" alt="{{ app.user.lastName }} {{ app.user.firstName }}">
					{% endif %}
				</div>
				<div class="col-8">
					<div class="card-body">
						<p class="titleProfile card-text fs-1 fw-bold m-0">{{ app.user.firstName }}
							{{ app.user.lastName }}</p>
						<p class="titleProfile card-text fs-5 fw-bold m-0">{{ app.user.email }}</p>
						<a class="block fs-5" href="{{ path('app_edit')}}">
							<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-pencil-fill mx-1 m-0" viewbox="0 0 16 16">
								<path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
							</svg>
							<small class="text-muted">Modifier</small>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="progressBar m-3">
				<div class="col text-center mt-3">
					<p class="progressBar-text text-centre fs-1">Progression globale  <span class="percentage">{{ (app.user.lessons|length) / lessons|length * 100|round }}%</span>
					</p>
					{% if lessons|length > 0 %}
						<div class="progress-circle mx-auto pt-5 mb-5">
							<svg viewbox="0 0 36 36">
								<path class="bg-path" d="M 18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
								<path class="bar-path" style="stroke-dasharray: {{ (app.user.lessons|length) / lessons|length * 100|round }}, 100" d="M 18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
							</svg>
						</div>
					{% endif %}
				</div>
			</div>
		</div>
	</div>
{% endblock %}
